VITE_BACKEND_URL=https://d024ac46b-dcb3-44b0-9471-c9fdd9b7114e.preview.emergentagent.com
WDS_SOCKET_PORT=443
VITE_STRIPE_PUBLISHABLE_KEY=pk_live_51RqyOwFsrP029t76six64eFyLCFMGmib98fSp9KnzT32IPv3FMH9FPmndf1OSTNcLPM8mVL4g1m4SsOvJBCTlUCL00eVIHsvge

import { loadStripe } from "@stripe/stripe-js";

const stripePromise = loadStripe(process.env.VITE_STRIPE_PUBLISHABLE_KEY);

async function handleCheckout(product) {
    const stripe = await stripePromise;
    const response = await fetch("/create-checkout-session", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(product),
    });
    const session = await response.json();
    await stripe.redirectToCheckout({ sessionId: session.id });
}